<!-- index.html -->
<html>
	<head>
    
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Infant:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet" />
    
		<link rel="stylesheet" href="CSS/style.css" />
		<script src="JS/events.js"></script>
    <Script src="JS/main.js"></Script>
	</head>
<body onload="runFirmament()">
	<!-- Display a loading screen until media is ready -->
	<div id="loading" class="loading">

		<h1>Content Loading</h1>
	</div>
<div id="daylight" >


	<svg id="svg-container" width="100%" height="100%" viewBox="0 0 100 50" xmlns="http://www.w3.org/2000/svg">

	 <path id="arc" d="M 1,50 A 50,50 0 0 1 99,50"  />
	 
	  <!-- Define a group for the wheel image; reposition left and up by the radius (12) -->
	  <g id="wheel-group" transform="translate(-12, -12)" >

		 <!-- Hide the wheel until data is loaded. This is probably unneccessary since it does 
		 	not solve the Safari bug -->	  	
		  <image id="wheel" class="hide" width="24" height="24"  xlink:href="SVG/ring.svg" >

		  <!-- Use animateMotion to move the image along the path -->
		  <!-- Here's what the properties mean:
		  	repeatCount -- How many times to repead the animation. change to 'indefinite' if we want to auto-loop
		  	dur -- 24 minute duration to sync with audio
		  	keyPoints -- start the animation at 10% (.1) and end at 90% (.9)
		  	keyTimes -- time 0 corresponds to keypoint .1; time 1 to keyPoint .9
		  	calcMode -- linear interpolation is the default
		  	fill -- "Freeze" the animation when it is finished
		  	begin -- start at second 0.

		  -->
		  <animateMotion id="motion" 
			  repeatCount="0" 
			  dur="24min" 
			  keyPoints="0.1;0.9"
		      keyTimes="0;1"
		      calcMode="linear" 
		      fill="freeze"
		      begin="0s"
		      >
		      <!-- reference to the 'arc' path we will follow -->
		    <mpath href="#arc" />
		    
		  </animateMotion>

		  <!-- Use animateTransform to rotate the image. 
		  	We rotate from 37ยบ to -205ยบ in order to get the start and end positions correct.
		  -->
		  <animateTransform id="rotation" attributeName="transform" attributeType="XML" type="rotate" 
			from="37 12 12" to="-205 12 12" dur="24min" repeatCount="0" fill="freeze"
			begin="0s"
		   />
		</image>
	</g>

	<!-- use a polygon to make the marker. It's a bitch to position! -->
	<polygon id="pointer" points="0,0 0,2 2,2" transform="rotate(45) translate(-.6,-1.5)">
		<!-- animate the pointer along the same arc as the wheel -->
		<animateMotion id="pointer-arc" 
			  repeatCount="0" 
			  dur="24min" 
			  keyPoints="0.2;1"
		      keyTimes="0;1"
		      calcMode="linear" 
		      fill="freeze"
		      rotate="auto"
		      begin="0s"
		      >
		    <mpath href="#arc" />
      </animateMotion>
	</polygon>

</svg>

<!-- The browser-default HTMLMediaElement for audio controls. Replace with custom -->
<figure id="au-control" >
  <audio id="audio" controls 
  	src="https://dickinsonsbirds.org/Year_V2_1864_Soundscape.mp3"
  	autoplay	 
  	onseeked="doSeeked(event)"
  	onplay="doPlay(event)"
  	onpause="doPause(event)"
  	oncanplaythrough="doLoaded(event)">
    
  </audio>
</figure>
<!---- Birds and Poem MSS follow -->
<div id="poems">
</div>  

<div id="birds">

</div>
</div>

<script>
	document.getElementById('svg-container').pauseAnimations();
</script>
</body>


</html>
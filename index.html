<!-- index.html -->
<html>
	<head>
    
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Infant:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Annie+Use+Your+Telescope&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Annie+Use+Your+Telescope&family=Fraunces:ital,opsz,wght@0,9..144,100..900;1,9..144,100..900&display=swap" rel="stylesheet">
    
		<link rel="stylesheet" href="CSS/main.css" />
    <link rel="stylesheet" href="CSS/objects.css" />
    <link rel="stylesheet" href="CSS/clouds.css" />
    <link rel="stylesheet" href="CSS/audioplayer.css" />
		<script src="JS/events.js"></script>
    <Script src="JS/main.js"></Script>
    

    <style>

</style>

	</head>
<body onload="runFirmament()">
<style>
  #svg-container {
    position:absolute;
    z-index: -5;
  }
</style>


	<svg id="svg-container" width="100%"  viewBox="0 0 100 100" 
       preserveAspectRatio="xMidYMid meet"
       xmlns="http://www.w3.org/2000/svg">

<style>
  #wheel-group image {
    width: 16;
    height: 16;
  }
</style>

  <rect id="svg-daylight" x="0" y="0" width="100%" height="48" />
  <rect id="svg-darkness" x="0" y="48" width="100%" height="100%" />

  <circle id="arc-circle" cx="50" cy="48" r="38"  fill="none" stroke="#708271" opacity=".7" stroke-width=".2" />

	 
	  <!-- Define a group for the wheel image; reposition left and up by the radius (12) -->

<g id="wheel-group"  width="16" height="16"
  transform="translate(-8,-8) rotate(76, 8, 8)">

  <g>
    <image id="seasons-wheel"  xlink:href="SVG/seasons2.svg" >
            <animateTransform id="rotation" attributeName="transform" attributeType="XML" type="rotate" 
            from="0 8 8" to="-360 8 8" dur="24min" repeatCount="0" fill="freeze"
            begin="0s"
             />
           </image>
    

    <image id="months-wheel"   xlink:href="SVG/months2.svg" >
     <animateTransform id="rotation" attributeName="transform" attributeType="XML" type="rotate" 
            from="0 8 8" to="-360 8 8" dur="24min" repeatCount="0" fill="freeze"
            begin="0s"
             />
           </image>
           
  
  </g>

    <image id="window-wheel" transform="rotate(-76 8 8)" xlink:href="SVG/window2.svg" />
        
      <animateMotion id="motion" 
        repeatCount="0" 
        dur="24min" 
        keyPoints="0;1"
          keyTimes="0;1"
          calcMode="linear" 
          fill="freeze"
          begin="0s"

          path="M12,48 A38,38 0 0 1 88,48"
          />
          
        
      
  </g>
</svg>


  <div id="html-container">
  <!-- Display a loading screen until media is ready -->
  <div id="loading" class="loading">

    <h1>Firmament Loading</h1>
    <img class="loading-bg" src="Images/map.png" />
   </div>

  <div id="firmament">

  <div id="clouds" class="rotate">
    <div id="nimbus-group" class="cloud-group">
      <img src="Images/Nimbus.png" class="cloud cloud-base" />
      <img src="Images/Nimbus_Mist.png" class="cloud cloud-layer" />
    </div>
    <div id="cirrus-group" class="cloud-group">
      <img src="Images/Cirrus.png" class="cloud cloud-base" />
      <img src="Images/Cirrus_Mist.png" class="cloud cloud-layer" />
    </div>
    <div id="cumulus-group" class="cloud-group">
      <img src="Images/Cumulus.png" class="cloud cloud-base" />
    </div>
    <div id="stratus-group" class="cloud-group">
      <img src="Images/Stratus.png" class="cloud cloud-base" />
      <img src="Images/Stratus_Mist.png" class="cloud cloud-layer" />
    </div>
  </div>


<div id="play-bar">
<audio-player>
  <audio id="audio" 
    src="https://dickinsonsbirds.org/Year_V2_1864_Soundscape.mp3"
    autoplay   
    onseeked="doSeeked(event)"
    onplay="doPlay(event)"
    onpause="doPause(event)"
    oncanplaythrough="doLoaded(event)"
    ></audio>
</audio-player>
</div>

<!--  Spectrogram (pins) -->
<div id="chyron-container">
        <div id="chyron">
            <img src="Images/spectrogram.png" alt="Audio Spectrogram">
        </div>
</div>

<!-- Precip graphs -->
<div id="weather-graphs-container">
  <div class="weather-graph" id="wg1">
    <img src="Images/nada.gif" />
  </div>
  <div class="weather-graph" id="wg2">
    <img src="Images/nada.gif" />
  </div>
</div>

<template id="audio-player">
  <script>
        function showHide(qs){
          const node = document.querySelector(qs);
          if (node.classList.contains('hide')){
            node.classList.remove('hide');
            node.focus();
          }else{
            node.classList.add('hide');
          }
          
        }
      </script>
      
  <div id="audioplayer">
    
    <div id="audioplayer-controls">
      <button id="audioplayer-play">Play</button>
      <div id="audioplayer-time">
        <span id="audioplayer-time-elapsed">-:--</span> / <span id="audioplayer-time-total">-:--</span>
      </div>
      <input type="range" id="audioplayer-scrubber" value="0" min="0" max="0">
      <div id="audioplayer-volume" tabindex="0">
        <input type="range" id="audioplayer-volume-control" value="0" min="0" max="0">
        <button id="audioplayer-volume-mute">Mute</button>        
      </div>
      <button id="audioplayer-menu" onclick="showHide('#menu-dialog')">Menu</button>
    </div>
    <div id="audioplayer-extras">
      <button id="key" class="highlight" onclick="showHide('#key-container')">Key</button>

      <button id="notebook" onclick="showHide('#liner-notes-container')">Notebook</button>
      
    </div>
  
  </div>

  <!-- templ here -->

  <!-- ##############  MENU POPUP HERE ############# -->

      <div id="menu-dialog" class="hide">
        <div class="menu-title">Select Layers to show</div>
        <div class="menu-content">
        
      
<div>
    <input type="checkbox" id="show-poems" name="poems" checked onchange="toggleLayer(event)"/>
    <label for="show-poems">Poems</label>
  </div>

  <div>
    <input type="checkbox" id="show-birds" name="birds" checked onchange="toggleLayer(event)"/>
    <label for="show-birds">Birds</label>
  </div>
<div>
    <input type="checkbox" id="show-climograph" name="climograph" checked onchange="toggleLayer(event)" />
    <label for="show-spectrogram">Climograph</label>
  </div>

  <div>
    <input type="checkbox" id="show-spectrogram" name="spectrogram" checked onchange="toggleLayer(event)" />
    <label for="show-spectrogram">Soundscape Waveform</label>
  </div>

  
  <div>
    <input type="checkbox" id="show-phenomena" name="phenomena" checked onchange="toggleLayer(event)"/>
    <label for="show-phenomena">Night Sky Phenomena</label>
  </div>

</div>
</div>

</template>



<div id="phenomena">
  <div id="aurora">
    <img class="phenomena" src="Images/aurora_borealis_c.png" />
  </div>
  <div id="lightning">
    <img class="phenomena" src="Images/lightning_c.png" />
  </div>
  <div id="auroralarc">
      <img class="phenomena" src="Images/auroral_arc_c.png" />
  </div>


</div>
<!-- key and liner notes containers/iframes -->

<!-- Key and Atlas need to be tabs -->
<div id="key-container" class="hide">
  <span class="close" onclick="showHide('#key-container')">[X]</span>
  <input type="radio" id="key-tab-radio" name="keyatlasradios" checked="checked" >
  <label for="key-tab-radio">Key</label>
  <iframe class="tab" width=400 height=400
    id="key-iframe" src="key.html"></iframe>

  <input type="radio" id="atlas-tab-radio" name="keyatlasradios" >
  <label for="atlas-tab-radio">Atlas</label>
  <iframe class="tab" width=400 height=400
    id="atlas-iframe" src="atlas.html"></iframe>
</div>


<div id="liner-notes-container" class="hide">
  <span class="close" onclick="showHide('#liner-notes-container')">[X]</span>
<iframe width=400 height=800
  id="liner-notes-iframe" src="linernotes.html"></iframe>

</div>
<!-- // liner notes -->


<!---- Birds and Poem MSS follow -->
<div id="dynamically-placed-items">
  <div id="poems"></div>  
  <div id="birds"></div>
</div>

</div>

<script src="JS/audioplayer.js"></script>
<script>
	pauseAllAnimations();
</script>
</body>


</html>